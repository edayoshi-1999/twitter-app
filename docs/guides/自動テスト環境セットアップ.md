# è‡ªå‹•ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

## ğŸ¯ æ¦‚è¦

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã‚’æ¤œçŸ¥ã—ã¦è‡ªå‹•çš„ã«ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

**å®Ÿç¾ã™ã‚‹ã“ã¨**:
- âœ… ã‚³ãƒ¼ãƒ‰ã‚’ä¿å­˜ã™ã‚‹ã¨è‡ªå‹•çš„ã«ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹
- âœ… Laravelï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆ
- âœ… Reactï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆ
- âœ… ä¸¡æ–¹ã‚’ä¸¦è¡Œå®Ÿè¡Œã§ãã‚‹é–‹ç™ºã‚µãƒ¼ãƒãƒ¼

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é–‹ç™ºè€…                                              â”‚
â”‚  - ã‚³ãƒ¼ãƒ‰ã‚’ç·¨é›†ãƒ»ä¿å­˜                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–                                         â”‚
â”‚  - Pest Watch (Laravel)                             â”‚
â”‚  - Vitest Watch (React)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ                                       â”‚
â”‚  - å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ            â”‚
â”‚  - çµæœã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è¡¨ç¤º                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### ãƒ‘ãƒ¼ãƒˆ1: Laravelï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆ

#### 1. composer.json ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ 

`backend/composer.json` ã® `scripts` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¾ã™ï¼š

```json
{
  "scripts": {
    "test": "./vendor/bin/pest",
    "test:watch": "./vendor/bin/pest --watch",
    "test:coverage": "./vendor/bin/pest --coverage",
    "test:tweets": "./vendor/bin/pest tests/Feature/Tweet/",
    "dev:test": "./vendor/bin/pest --watch"
  }
}
```

#### 2. ä½¿ç”¨æ–¹æ³•

**Docker Composeç’°å¢ƒã§å®Ÿè¡Œ**:

```bash
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1: Laravelã®è‡ªå‹•ãƒ†ã‚¹ãƒˆ
docker-compose exec laravel composer dev:test

# ã¾ãŸã¯ã€ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã®ã¿ç›£è¦–
docker-compose exec laravel ./vendor/bin/pest --watch tests/Feature/Tweet/
```

**å‹•ä½œ**:
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ã¨ã€é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆãŒè‡ªå‹•çš„ã«å†å®Ÿè¡Œã•ã‚Œã¾ã™
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ†ã‚¹ãƒˆçµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™
- `Ctrl+C` ã§çµ‚äº†

---

### ãƒ‘ãƒ¼ãƒˆ2: Reactï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆ

#### 1. package.json ã®ç¢ºèª

`frontend/package.json` ã«ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªï¼š

```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "test": "vitest",
    "test:watch": "vitest --watch",
    "test:ui": "vitest --ui",
    "test:coverage": "vitest --coverage"
  }
}
```

#### 2. ä½¿ç”¨æ–¹æ³•

**Docker Composeç’°å¢ƒã§å®Ÿè¡Œ**:

```bash
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2: Reactã®è‡ªå‹•ãƒ†ã‚¹ãƒˆ
docker-compose exec react npm run test:watch
```

**å‹•ä½œ**:
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ã¨ã€é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆãŒè‡ªå‹•çš„ã«å†å®Ÿè¡Œã•ã‚Œã¾ã™
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãª UI ã§ãƒ†ã‚¹ãƒˆçµæœã‚’ç¢ºèªã§ãã¾ã™

---

### ãƒ‘ãƒ¼ãƒˆ3: çµ±åˆé–‹ç™ºç’°å¢ƒï¼ˆä¸¡æ–¹ã‚’ä¸¦è¡Œå®Ÿè¡Œï¼‰

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³1: tmux ã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

**tmux ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**ï¼ˆãƒ›ã‚¹ãƒˆå´ï¼‰:

```bash
# Ubuntu/Debian
sudo apt-get install tmux

# macOS
brew install tmux
```

**é–‹ç™ºã‚»ãƒƒã‚·ãƒ§ãƒ³ã®èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**:

`scripts/dev.sh` ã‚’ä½œæˆï¼š

```bash
#!/bin/bash

# Twitter ã‚¯ãƒ­ãƒ¼ãƒ³é–‹ç™ºç’°å¢ƒèµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

# Docker Compose ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•
echo "ğŸš€ Starting Docker Compose services..."
docker-compose up -d

# tmux ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œæˆ
SESSION="twitter-dev"

# æ—¢å­˜ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒã‚ã‚Œã°å‰Šé™¤
tmux kill-session -t $SESSION 2>/dev/null

# æ–°ã—ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œæˆ
tmux new-session -d -s $SESSION -n "Backend"

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦1: Laravel è‡ªå‹•ãƒ†ã‚¹ãƒˆ
tmux send-keys -t $SESSION:0 "docker-compose exec laravel composer dev:test" C-m

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦2: React è‡ªå‹•ãƒ†ã‚¹ãƒˆ
tmux new-window -t $SESSION:1 -n "Frontend"
tmux send-keys -t $SESSION:1 "docker-compose exec react npm run test:watch" C-m

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦3: Laravelã‚µãƒ¼ãƒãƒ¼ãƒ­ã‚°
tmux new-window -t $SESSION:2 -n "Logs"
tmux send-keys -t $SESSION:2 "docker-compose logs -f laravel" C-m

# ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¿ãƒƒãƒ
tmux attach-session -t $SESSION
```

**å®Ÿè¡Œå¯èƒ½ã«ã™ã‚‹**:

```bash
chmod +x scripts/dev.sh
```

**èµ·å‹•**:

```bash
./scripts/dev.sh
```

**tmux ã®æ“ä½œ**:
- `Ctrl+b` â†’ `0` : Laravelãƒ†ã‚¹ãƒˆç”»é¢ã«ç§»å‹•
- `Ctrl+b` â†’ `1` : Reactãƒ†ã‚¹ãƒˆç”»é¢ã«ç§»å‹•
- `Ctrl+b` â†’ `2` : ãƒ­ã‚°ç”»é¢ã«ç§»å‹•
- `Ctrl+b` â†’ `d` : ãƒ‡ã‚¿ãƒƒãƒï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®Ÿè¡Œç¶™ç¶šï¼‰
- `tmux attach -t twitter-dev` : å†ã‚¢ã‚¿ãƒƒãƒ

---

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³2: åˆ¥ã€…ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1**: Laravelè‡ªå‹•ãƒ†ã‚¹ãƒˆ
```bash
docker-compose exec laravel composer dev:test
```

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2**: Reactè‡ªå‹•ãƒ†ã‚¹ãƒˆ
```bash
docker-compose exec react npm run test:watch
```

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«3**: Docker Composeãƒ­ã‚°
```bash
docker-compose logs -f
```

---

### ãƒ‘ãƒ¼ãƒˆ4: VS Codeçµ±åˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

**VS Code Tasks** ã‚’ä½¿ç”¨ã—ã¦ã€IDEã‹ã‚‰ç›´æ¥å®Ÿè¡Œã§ãã¾ã™ã€‚

`.vscode/tasks.json` ã‚’ä½œæˆï¼š

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Laravel: Watch Tests",
      "type": "shell",
      "command": "docker-compose exec laravel composer dev:test",
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": []
    },
    {
      "label": "React: Watch Tests",
      "type": "shell",
      "command": "docker-compose exec react npm run test:watch",
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": []
    },
    {
      "label": "Dev: Start All Services",
      "type": "shell",
      "command": "./scripts/dev.sh",
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": []
    }
  ]
}
```

**ä½¿ç”¨æ–¹æ³•**:
1. `Ctrl+Shift+P` â†’ `Tasks: Run Task`
2. å®Ÿè¡Œã—ãŸã„ã‚¿ã‚¹ã‚¯ã‚’é¸æŠ

---

## ğŸ¨ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### Pest ã®ç›£è¦–ã‚ªãƒ—ã‚·ãƒ§ãƒ³

`backend/phpunit.xml` ã¾ãŸã¯ Pest ã®è¨­å®šã§ã€ç›£è¦–å¯¾è±¡ã‚’ç´°ã‹ãè¨­å®šã§ãã¾ã™ï¼š

```bash
# ç‰¹å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã¿ç›£è¦–
./vendor/bin/pest --watch tests/Feature/

# ä¸¦åˆ—å®Ÿè¡Œ
./vendor/bin/pest --watch --parallel

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
./vendor/bin/pest --watch --coverage
```

### Vitest ã®ç›£è¦–ã‚ªãƒ—ã‚·ãƒ§ãƒ³

`frontend/vite.config.ts` ã§ Vitest ã®è¨­å®šã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼š

```typescript
export default defineConfig({
  test: {
    watch: true,
    globals: true,
    environment: 'jsdom',
    setupFiles: './src/test/setup.ts',
    coverage: {
      reporter: ['text', 'json', 'html'],
    },
  },
});
```

---

## ğŸš€ é–‹ç™ºãƒ•ãƒ­ãƒ¼

### æ¨å¥¨ã•ã‚Œã‚‹é–‹ç™ºãƒ•ãƒ­ãƒ¼

```
1. Docker Compose èµ·å‹•
   $ docker-compose up -d

2. è‡ªå‹•ãƒ†ã‚¹ãƒˆèµ·å‹•ï¼ˆtmux ã¾ãŸã¯åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼‰
   $ ./scripts/dev.sh
   ã¾ãŸã¯
   $ docker-compose exec laravel composer dev:test
   $ docker-compose exec react npm run test:watch

3. ã‚³ãƒ¼ãƒ‰ã‚’ç·¨é›†
   - backend/app/Http/Controllers/TweetController.php
   - tests/Feature/Tweet/TweetTest.php

4. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜
   â†’ è‡ªå‹•çš„ã«ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹

5. ãƒ†ã‚¹ãƒˆçµæœã‚’ç¢ºèª
   - âœ… ã‚°ãƒªãƒ¼ãƒ³: å®Ÿè£…æˆåŠŸ
   - âŒ ãƒ¬ãƒƒãƒ‰: ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã€ä¿®æ­£ãŒå¿…è¦

6. TDDã‚µã‚¤ã‚¯ãƒ«ã‚’ç¹°ã‚Šè¿”ã™
   Red â†’ Green â†’ Refactor
```

---

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### 1. ãƒ†ã‚¹ãƒˆã®ä¸¦åˆ—å®Ÿè¡Œ

Pest ã¯ä¸¦åˆ—å®Ÿè¡Œã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

```bash
./vendor/bin/pest --watch --parallel
```

### 2. ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã®ã¿ç›£è¦–

ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’ç›£è¦–ã™ã‚‹ã¨é…ããªã‚‹ãŸã‚ã€é–‹ç™ºä¸­ã®æ©Ÿèƒ½ã®ã¿ç›£è¦–ï¼š

```bash
# ãƒ„ã‚¤ãƒ¼ãƒˆæ©Ÿèƒ½ã®ã¿
./vendor/bin/pest --watch tests/Feature/Tweet/

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
./vendor/bin/pest --watch tests/Feature/Tweet/TweetTest.php
```

### 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢

ãƒ†ã‚¹ãƒˆãŒé…ã„å ´åˆã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ï¼š

```bash
docker-compose exec laravel php artisan cache:clear
docker-compose exec laravel php artisan config:clear
docker-compose exec laravel composer dump-autoload
```

---

## âš ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: ãƒ†ã‚¹ãƒˆãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œãªã„

**åŸå› **: ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ãŒæ©Ÿèƒ½ã—ã¦ã„ãªã„

**è§£æ±ºæ–¹æ³•**:
```bash
# Docker Composeã‚’å†èµ·å‹•
docker-compose restart

# ãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒã‚¦ãƒ³ãƒˆã‚’ç¢ºèª
docker-compose config | grep volumes
```

---

### å•é¡Œ2: ãƒ†ã‚¹ãƒˆãŒé…ã„

**åŸå› **: ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’æ¯å›å®Ÿè¡Œã—ã¦ã„ã‚‹

**è§£æ±ºæ–¹æ³•**:
```bash
# å¤‰æ›´ã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
./vendor/bin/pest --watch --dirty

# ä¸¦åˆ—å®Ÿè¡Œ
./vendor/bin/pest --watch --parallel
```

---

### å•é¡Œ3: ãƒ¡ãƒ¢ãƒªä¸è¶³ã‚¨ãƒ©ãƒ¼

**åŸå› **: Docker ã®ãƒ¡ãƒ¢ãƒªåˆ¶é™

**è§£æ±ºæ–¹æ³•**:

`docker-compose.yml` ã§ãƒ¡ãƒ¢ãƒªã‚’å¢—ã‚„ã™ï¼š

```yaml
services:
  laravel:
    mem_limit: 2g
    memswap_limit: 2g
```

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

è‡ªå‹•ãƒ†ã‚¹ãƒˆç’°å¢ƒãŒæ•´ã£ãŸã‚‰ï¼š

1. **TDDã‚µã‚¤ã‚¯ãƒ«ã‚’å®Ÿè·µ**
   - Red: ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
   - Green: å®Ÿè£…ã™ã‚‹
   - Refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

2. **ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆCIï¼‰**
   - GitHub Actions ã§è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ

3. **ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ã®è¨­å®š**
   - 80% ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç›®æŒ‡ã™

---

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [Pest Documentation - Watch Mode](https://pestphp.com/docs/plugins/watch)
- [Vitest - Watch Mode](https://vitest.dev/guide/features.html#watch-mode)
- [tmux Cheat Sheet](https://tmuxcheatsheet.com/)

---

**ä½œæˆæ—¥**: 2025-11-16
**æ‹…å½“**: Claudeï¼ˆAIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆï¼‰
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
